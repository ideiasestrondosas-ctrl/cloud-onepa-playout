# Release Notes v1.9.4-PRO (2026-01-18)

## üì° Advanced Protocols & Distribution (v1.9.4)

- **Multi-Protocol Distribution Engine**: Implemented support for **MPEG-DASH**, **Microsoft Smooth Streaming (MSS)**, and **RIST** via FFmpeg's `tee` muxer.
- **Native Streaming Connectors**: Enabled **RTSP**, **WebRTC (WHIP/WHEP)**, and **Low-Latency HLS (LL-HLS)** natively via MediaMTX integration.
- **Intelligent Transcoding**: Added logic to automatically force `libx264/aac` transcoding when filters (logo/overlays) are active, even if "Copy" mode is selected, ensuring 100% stability in distribution.
- **Enhanced UI Monitoring**: New real-time protocol monitor in the Dashboard and persistent configuration panel in Settings for all advanced distribution methods.

## üõ†Ô∏è Performance & Stability

- **UDP Reliability**: Resolved Master Feed initialization errors that caused cascading failures in UDP relays.
- **UI Fixes**: Corrected a critical "White Screen" error in the Settings panel due to missing component imports.
- **Database Schema**: Added dedicated columns for extended protocol management and link persistence.

---

# Release Notes v1.9.3-PRO (2026-01-16)

## üõ°Ô∏è Security & Performance (v1.9.3)

- **SQL Injection Prevention**: Full refactor of Media, Schedule, and Playlist APIs to use parameterized queries (`QueryBuilder`).
- **Path Traversal Protection**: Implemented strict filename sanitization and boundary checks for all file-serving endpoints.
- **Search Optimization**: Added 500ms debouncing to the Media Library search to reduce server load.
- **Database Performance**: Added targeted indexes for scheduling and media lookups.
- **Backend Healing**: Removed inefficient per-request metadata checks in favor of stable database state.

## üì° SRT & Connectivity

- **SRT Caller Mode v2**: Refined hostname mapping logic to better support Docker environments.
- **Smart Listener Suggestions**: The UI now suggests the correct listener URL (`srt://@:9900?mode=listener`) when in Caller mode.
- **Diagnostics Window**: Integrated backend log viewing directly into the SRT configuration panel for real-time troubleshooting.

## üîÑ Playout & UX

- **Playout Retry**: Added a dedicated "Retry" button to quickly restart the playout engine without manual command resets.
- **Interactive Logs**: Guidance on error resolution is now provided alongside logs (e.g., VLC connection steps).

## üõ†Ô∏è Internal Tools

- **SRT Diagnostics Suite**: Added several scripts (`diagnose_srt.sh`, `test_srt_v*.sh`) for deep analysis of network and SRT packets.
- **Automation Scripts**: New `install.sh` and `update.sh` scripts for simplified environment setup.

---

## üïí Top Bar & Header

- **Real-time Clock & Date**: Integrated a professional real-time clock and date into the Top Bar using a premium monospace font.
- **Dashboard Refinement**: Cleaned up the Dashboard header by removing redundant titles and clocks, creating a more professional and focused monitor view.

## üìä Audio & Monitoring

- **LUFS Meter v2**: Fixed `AudioContext` suspension issues in Chrome and Safari. The meter now automatically resumes synchronization when the user starts playback.
- **Enhanced Diagnostics**: Improved RTMP/HLS diagnostics for easier troubleshooting of stream failures.

## üìÇ Media Library & Assets

- **Subfolder Support**: Full support for navigating and managing media within hierarchical folders.
- **Recursive Deletion**: Deleting a folder now correctly and recursively removes all files within it from both the database and disk.
- **Thumbnail Healing**: Implemented automatic logic to serve video thumbnails via a stable proxy and regenerate missing ones on the fly.

## üîó UX & Connectivity

- **Smart Copy Icons**: Added fast-copy icons to all output URLs (RTMP, HLS, SRT, UDP) for easy distribution to VLC or OBS.
- **HLS Protocol Optimization**: Configured low-latency HLS links for smoother real-time preview in browsers.

## üê≥ Infrastructure & Reliability

- **Docker Orchestration**: Added healthchecks to the PostgreSQL container and precise startup orders to ensure the backend always waits for the database.
- **Stability Fixes**: Resolved "White Screen" crashes in the Settings panel and improved general system uptime tracking.

---

_Generated by Antigravity_
